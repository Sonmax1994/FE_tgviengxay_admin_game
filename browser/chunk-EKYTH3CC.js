import{s,ta as c,va as l}from"./chunk-QO4HIBPK.js";import{$ as o,T as i,X as n,g as a}from"./chunk-EISXJCDL.js";var e=class e{constructor(t,r,u){this.dataService=t;this.router=r;this._toastr=u;this._tokenSubject=new a(null);this._currentUserSubject=new a(null);if(localStorage.getItem("token")){let p=localStorage.getItem("token");this._tokenSubject.next(p)}}get token(){return this._tokenSubject.value}set token(t){this._tokenSubject.next(t)}login(t){return this.dataService.post("/api/v1/admin/game/login",t).pipe(i(r=>{r?.data?.accessToken?this._setLoginLocalStogare(r.data.accessToken):this._toastr.error("L\u1ED7i \u0111\u0103ng nh\u1EADp. Vui l\xF2ng th\u1EED l\u1EA1i")}))}logout(){localStorage.removeItem("token"),this._tokenSubject.next(null),this._currentUserSubject.next(null),this.router.navigate(["login"])}_setLoginLocalStogare(t){localStorage.setItem("token",JSON.stringify(t)),this._tokenSubject.next(t)}changePassword(t){return this.dataService.post("/api/v1/admin/game/change/password",t).pipe(i(r=>{}))}};e.\u0275fac=function(r){return new(r||e)(o(l),o(s),o(c))},e.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"});var m=e;export{m as a};
